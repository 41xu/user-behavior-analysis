## 漏斗分析

漏斗流程：

🌰：点击忘记密码id=5 -> 找回密码-获取验证码id=19 -> 找回密码-重置密码id=28 -> 提交新密码id=1

1. 用户选择需要查询过滤的年，月
2. 用户按顺序选择需要过滤的流程（4步）
3. 返回本月中对应流程的人数和转化比例

## 事件分析

1. 用户选择时间段 
2. 用户选择事件（行为）-> 事件下拉框
3. 用户选择事件的展示指标 -> 指标下拉框（5个指标max）-> 指标通过字典映射到sql
4. 用户选择按某种指标分组

3.1 展示指标：总次数、总人数、去重人数、人均次数、平均事件时长、
4.1 分组指标：广告系列来源 -> 来源分析可帮助用户进行广告投放、是否首次访问

--- 
更新
---

3.1中平均事件时长属性在数据表中所有数据均为NULL，因此我们决定去掉该展示指标

> 留存分析返回结果: feature_result, group_result
[[62, '2019-01-01'], [69, '2019-01-02'], [63, '2019-01-03'], [66, '2019-01-04'], [70, '2019-01-05'], [81, '2019-01-06'], [69, '2019-01-07'], [85, '2019-01-08'], [82, '2019-01-09'], [77, '2019-01-10'], [83, '2019-01-11'], [83, '2019-01-12'], [62, '2019-01-13'], [84, '2019-01-14'], [89, '2019-01-15'], [82, '2019-01-16'], [64, '2019-01-17'], [94, '2019-01-18'], [92, '2019-01-19']]
>
> [[1, 'Lenovo', '2019-01-01'], [10, 'xiaomi', '2019-01-01'], [15, 'Huawei', '2019-01-01'], [4, 'Sumsung', '2019-01-01'], [1, 'HP', '2019-01-01'], [1, 'Dell', '2019-01-01'], [2, 'ASUS', '2019-01-01'], [28, 'Apple', '2019-01-01'], [8, 'Sumsung', '2019-01-02'], [34, 'Apple', '2019-01-02'], [16, 'Huawei', '2019-01-02'], [3, 'Dell', '2019-01-02'], [2, 'HP', '2019-01-02'], [6, 'xiaomi', '2019-01-02'], [7, 'Huawei', '2019-01-03'], [2, 'HP', '2019-01-03'], [7, 'Sumsung', '2019-01-03'], [8, 'xiaomi', '2019-01-03'], [36, 'Apple', '2019-01-03'], [3, 'ASUS', '2019-01-03'], [17, 'Huawei', '2019-01-04'], [1, 'HP', '2019-01-04'], [2, 'Dell', '2019-01-04']]
>
> 将其可视化成适当图即可

---
更新
---
4.1中选择细化的分组指标，由于广告来源和首次访问在本数据集中多数为None，较为稀疏，可视化效果并不好，因此我们选择将分组指标更换成设备制造商和运营商名称。

## 留存分析

1. 用户选择时间段
2. 用户初始行为
3. 用户选择后续行为
4. 展示时间段内7天留存的结果分析：总人数，1天之内比例，第二天比例...第七天比例

4.1返回的结构是一张从from_time到to_time这么多行，每行元素是总人数，1天，2天...第七天比例 这么多列的表